<div *ngIf="post; else loading" style="position: relative; padding: 15px; width: 80%; margin: 0 auto;">

  <div style="display: flex; align-items: center; justify-content: start; gap: 15px;">
    <a routerLink="/posts" style="cursor: pointer; text-decoration: none; color: black;">
      <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
        <path d="M0 0h24v24H0z" fill="none"/>
        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
      </svg>
    </a>
    <h1 style="font-size: 24px; margin: 0; font-weight: bold;">{{ post.title }}</h1>
  </div>

  <div style="display: flex; align-items: center; gap: 10px; margin-top: 10px;">
    <span><strong>Date: </strong> {{ post.createdAt | date:'yyyy-MM-dd' }}</span>
    <span><strong>Auteur: </strong> <span style="text-transform: capitalize;">{{ post?.username }}</span></span>
    <span><strong>Thème: </strong> <span style="text-transform: capitalize;">{{ post?.topicName }}</span></span>
</div>



  <p style="font-size: 16px; text-align: justify; margin-top: 20px;">{{ post.content }}</p>

  <hr style="margin: 20px 0;">

  <h2>Commentaires</h2>
  <div *ngFor="let comment of comments">
    <strong>{{ comment.username }}</strong>
    <p style="margin-left: 70px;">{{ comment.content }}</p>
  </div>


  <div style="display: flex; align-items: center; gap: 10px; margin-top: 20px;">
    <mat-form-field appearance="outline" style="flex: 1;">
      <mat-label>Écrivez ici votre commentaire</mat-label>
      <textarea matInput [(ngModel)]="newCommentContent" rows="8"></textarea>
    </mat-form-field>
    <a (click)="postComment()" style="cursor: pointer;">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="5" y1="12" x2="19" y2="12"></line>
        <line x1="12" y1="5" x2="12" y2="19"></line>
      </svg>
    </a>
  </div>

</div>

<ng-template #loading>
  <p style="text-align: center;">Loading post...</p>
</ng-template>
