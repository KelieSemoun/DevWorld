<div class="app-bar">
    <div class="app-bar-content">
        <!-- Logo -->
        <img src="/assets/logo_p6.png" alt="MDD Logo" class="logo" />

        <!-- Bouton menu burger -->
        <button class="menu-button" (click)="toggleMenu()" *ngIf="(isMobile || isTablet) && showTabs">
            <span class="material-icons">menu</span>
        </button>

        <!-- Onglets pour desktop -->
        <div class="app-bar-tabs" *ngIf="!isMobile && !isTablet && showTabs">
            <a class="tab" [class.active-tab]="activeTab === 'articles'" (click)="setActiveTab('articles')">Articles</a>
            <a class="tab" [class.active-tab]="activeTab === 'themes'" (click)="setActiveTab('themes')">Thèmes</a>
            <div class="user-profile" *ngIf="showUserAvatar" (click)="goToProfile()">
                <div class="avatar-background" [class.active-account]="isActiveAccountPage">
                    <svg class="avatar-icon" width="27" height="30" viewBox="0 0 27 30" fill="none">
                        <path
                            d="M1.00011 29V25.8817C1.00011 24.2276 1.65719 22.6413 2.82679 21.4717C3.99639 20.3021 5.58271 19.645 7.23678 19.645H19.7101C21.3642 19.645 22.9505 20.3021 24.1201 21.4717C25.2897 22.6413 25.9468 24.2276 25.9468 25.8817V29"
                            stroke="black" stroke-opacity="0.5" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path
                            d="M13.4734 13.4733C10.029 13.4733 7.23677 10.6811 7.23677 7.23667C7.23677 3.79225 10.029 1 13.4734 1C16.9178 1 19.7101 3.79225 19.7101 7.23667C19.7101 10.6811 16.9178 13.4733 13.4734 13.4733Z"
                            stroke="black" stroke-opacity="0.5" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Menu burger -->
<mat-sidenav-container class="app-bar-container" [ngClass]="{'backdrop-visible': menuOpen}">
    <mat-sidenav #sidenav mode="over" [opened]="menuOpen" (backdropClick)="menuOpen = false" position="end">
        <mat-nav-list>
            <a mat-list-item (click)="setActiveTab('articles'); menuOpen = false">Articles</a>
            <a mat-list-item (click)="setActiveTab('themes'); menuOpen = false">Thèmes</a>
            <div class="user-profile sidenav-user-profile" (click)="goToProfile(); menuOpen = false">
                <div class="avatar-background" [class.active-account]="isActiveAccountPage">
                    <svg class="avatar-icon" width="27" height="30" viewBox="0 0 27 30" fill="none">
                        <path
                            d="M1.00011 29V25.8817C1.00011 24.2276 1.65719 22.6413 2.82679 21.4717C3.99639 20.3021 5.58271 19.645 7.23678 19.645H19.7101C21.3642 19.645 22.9505 20.3021 24.1201 21.4717C25.2897 22.6413 25.9468 24.2276 25.9468 25.8817V29"
                            stroke="black" stroke-opacity="0.5" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path
                            d="M13.4734 13.4733C10.029 13.4733 7.23677 10.6811 7.23677 7.23667C7.23677 3.79225 10.029 1 13.4734 1C16.9178 1 19.7101 3.79225 19.7101 7.23667C19.7101 10.6811 16.9178 13.4733 13.4734 13.4733Z"
                            stroke="black" stroke-opacity="0.5" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </div>
            </div>
        </mat-nav-list>
    </mat-sidenav>

    <mat-sidenav-content [ngClass]="{'menu-open': !menuOpen}">
        <router-outlet></router-outlet>
    </mat-sidenav-content>
</mat-sidenav-container>

